<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bexprestige - Casa Mira Homes</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="casamira-details.css">
</head>

<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabaseUrl = 'https://osywaesdozykwhupydzy.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zeXdhZXNkb3p5a3dodXB5ZHp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5ODE0OTYsImV4cCI6MjA3ODU1NzQ5Nn0.8Yb5tNAMsPkqoWPvsMsqSf6migp6BA5d9dbOdHyG-dE';
  const supabase = createClient(supabaseUrl, supabaseKey);

  const inquiryOverlay = document.getElementById('popupOverlay');
  const closeInquiryBtn = document.getElementById('closeFormBtn');
  const inquiryForm = document.getElementById('inquiryForm');

  closeInquiryBtn.addEventListener('click', () => {
    inquiryOverlay.style.display = 'none';
  });

  inquiryForm.addEventListener('submit', async (e) => {
    e.preventDefault();

    const name = inquiryForm.querySelector('input[type="text"]').value.trim();
    const email = inquiryForm.querySelector('input[type="email"]').value.trim();
    const phone = inquiryForm.querySelector('input[type="tel"]').value.trim();
    const message = inquiryForm.querySelector('textarea').value.trim();

    const property_id = null;

    const { data, error } = await supabase.from('inquiries').insert([
      { name, email, phone, message, property_id }
    ]);

    if (error) {
      console.error('Error sending inquiry:', error.message);
      alert('There was a problem sending your inquiry.');
    } else {
      alert('Inquiry sent successfully!');
      inquiryForm.reset();
      inquiryOverlay.style.display = 'none';
    }
  });
</script>

<body>

<header class="navbar">
    <div class="logo">Bexprestige.</div>

    <nav>
        <ul class="nav-links">
            <li><a href="homepage.html">Home</a></li>

            <li class="dropdown">
                <a href="#">Listings <i class="bi bi-caret-down-fill"></i></a>
                <ul class="dropdown-menu">
                    <li><a href="#">For Sale</a></li>
                    <li><a href="#">For Rent</a></li>
                </ul>
            </li>

            <li><a href="#">Members</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
    </nav>

    <div class="nav-right">
        <a href="tel:+63991112233" class="phone"><i class="bi bi-telephone"></i> +63991112233</a>
    </div>
</header>

<div class="img-casamira">
  <div class="overlay">
    <div class="overlay-content">
      <h1>Casa Mira Homes</h1>
      <p>Your dream home awaits.</p>
      <button class="inquire-btn" id="openFormBtn">Inquire Now</button>
    </div>
  </div>
</div>

<!-- Inquiry Form Popup -->
<div class="popup-overlay" id="popupOverlay">
  <div class="popup-form">
    <span class="close-btn" id="closeFormBtn">&times;</span>
    <h2>Inquire About Casa Mira</h2>
    <p>Fill out the form below and we’ll get back to you soon.</p>
    <form id="inquiryForm">
      <div class="form-group">
        <label>Full Name</label>
        <input type="text" placeholder="Enter your name" required>
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" placeholder="Enter your email" required>
      </div>
      <div class="form-group">
        <label>Contact Number</label>
        <input type="tel" placeholder="Enter your number" required>
      </div>
      <div class="form-group">
        <label>Message</label>
        <textarea rows="4" placeholder="Your message..." required></textarea>
      </div>
      <button type="submit" class="submit-btn">Send Inquiry</button>
    </form>
  </div>
</div>


<div class="details">
    <h2>About Us</h2>
    <div class="line"></div>
    <p>
        Casa Mira Homes is dedicated to providing quality housing at affordable prices.
        A thoughtfully planned community in the heart of the SOCCSKSARGEN Region,
        designed to give you and your family the perfect space to create lasting memories.
        This 21-hectare residential development in General Santos City features 1,218 well-designed units,
        offering the ideal blend of comfort, convenience, and tranquility.
        Experience a home that keeps you connected to essential amenities while allowing you to unwind away
        from the hustle and bustle of the city.
    </p>
</div>

<section class="location-section">
    <div class="address">
        <div class="address-header">
            <i class="bi bi-geo-alt-fill"></i>
            <p>Brgy. Ligaya & Brgy. Lagao, General Santos City</p>
        </div>

        <h3>Vicinity Map</h3>
        <ul>
            <li>4 mins away from ACE Medical Center</li>
            <li>5 mins away from University of Santo Tomas</li>
            <li>5 mins away from Lagao Public Market</li>
            <li>10 mins away from Robinsons Place Gensan</li>
            <li>14 mins away from SM City Gensan</li>
            <li>14 mins away from Savemore Market Nunez</li>
            <li>17 mins away from Plaza Heneral Santos</li>
            <li>18 mins away from Mindanao Medical Center</li>
            <li>21 mins away from Gensan City Hall</li>
            <li>30 mins away from Gensan International Airport</li>
        </ul>
    </div>

    <div class="mapouter">
        <div class="gmap_canvas">
            <iframe 
                allowfullscreen 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
                src="https://www.google.com/maps/embed/v1/place?q=Casa%20Mira%20Gensan&key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8">
            </iframe>
        </div>
    </div>
</section>

<div class="project">
    <img src="assets/Casamirapic.webp" alt="Casa Mira Project" class="project-img">

    <div class="project-text">
        <h2>About the Project</h2>
        <div class="line"></div>

        <div class="project-details">

            <div class="detail-row">
                <span class="label">Location</span>
                <span class="value">Brgy. Ligaya & Brgy. Lagao, General Santos City</span>
            </div>

            <div class="detail-row">
                <span class="label">Total No. of Units</span>
                <span class="value">1,218 Units</span>
            </div>

            <div class="detail-row">
                <span class="label">Project Type</span>
                <span class="value">Residential Subdivision</span>
            </div>

            <div class="detail-row">
                <span class="label">Product Type</span>
                <span class="value">Townhouse, Single-Detached and Semi-Attached Units</span>
            </div>

            <div class="detail-row">
                <span class="label">Terrain</span>
                <span class="value">Flat Terrain</span>
            </div>

            <div class="detail-row">
                <span class="label">Total Lot Area</span>
                <span class="value">21 Hectares</span>
            </div>

            <div class="detail-row">
                <span class="label">Services</span>
                <span class="value">Property Management Services</span>
            </div>

            <div class="detail-row">
                <span class="label">Utilities</span>
                <span class="value">MRF, Elevated Water Tank</span>
            </div>

            <div class="detail-row">
                <span class="label">Other Features</span>
                <span class="value">
                    Main Entrance with Guardhouse<br>
                    Perimeter Fence<br>
                    Landscaping<br>
                    Solar-Ready Homes<br>
                    Solar-Powered Homes
                </span>
            </div>

        </div>
    </div>
</div>


<section class="floor-plan-section">
  <div class="units-floorplan-header">
    <h2>Units and Floor Plan</h2>
    <div class="line"></div>
  </div>

  <div class="floor-plan-container">
    
    <!-- LEFT SIDE -->
    <div class="floor-plan-header">
      <div class="unit-navigation">
        <button id="prevUnit" class="nav-arrow"><i class="bi bi-chevron-left"></i></button>
        <div class="unit-title">
          <h2>FLOOR PLAN</h2>
          <h3 id="unitName">MODEL-A MID UNIT</h3>
          <div class="underline"></div>
        </div>
        <button id="nextUnit" class="nav-arrow"><i class="bi bi-chevron-right"></i></button>
      </div>

      <p><strong>Total Floor Area:</strong> <span id="floorArea">46.99 sqm</span><br>
         <strong>Typical Lot Area:</strong> <span id="lotArea">54.00 sqm</span></p>

      <ul id="featuresList">
        <li>2 Bedrooms</li>
        <li>1 Toilet & Bath</li>
        <li>1 Powder Room</li>
        <li>Balconette</li>
        <li>Car Parking</li>
      </ul>

      <img src="assets/CasaMira-modelb.webp" alt="Unit Image" id="unitImage" class="unit-image">

      <div class="solar-note">
        <i class="bi bi-brightness-high"></i>
        <p><strong>Solar-Ready</strong><br>(Buyers discretion to add solar panels)</p>
      </div>
    </div>

    <!-- RIGHT SIDE -->
    <div class="floor-plan-images" id="floorImages">
      <div class="floor">
        <img src="assets/Model-A-Mid-GF.PNG" alt="Ground Floor Plan" id="groundImage">
        <h4>Ground Floor</h4>
        <p id="groundDetails">Living/Dining/Kitchen<br>Powder Room<br>Stairs</p>
      </div>

      <div class="floor">
        <img src="assets/Model-A-Mid-SF.PNG" alt="Second Floor Plan" id="secondImage">
        <h4>Second Floor</h4>
        <p id="secondDetails">Hallway<br>Bedroom 1<br>Masters Bedroom<br>Common T&B<br>Stairs</p>
      </div>
    </div>
  </div>
</section>

<section class="amenities">
  <h2>Amenities</h2>
  <div class="line"></div>

  <div class="gallery-wrapper">
    <button class="arrow left" id="prevBtn"><i class="bi bi-chevron-left"></i></button>

    <div class="amenities-container" id="gallery">
      <img src="assets/Clubhouse.PNG" alt="Clubhouse">
      <img src="assets/ClubhouseExt.PNG" alt="Clubhouse Exterior">
      <img src="assets/LoungeArea.PNG" alt="Lounge Area">
      <img src="assets/FunctionArea.PNG" alt="Function Area">
      <img src="assets/PoolArea.PNG" alt="Pool Area">
      <img src="assets/PrayerRoom.PNG" alt="Prayer Room">
      <img src="assets/Park.PNG" alt="Park">
      <img src="assets/Park2.PNG" alt="Park 2">
      <img src="assets/BasketballCourt.PNG" alt="Basketball Court">
    </div>

    <button class="arrow right" id="nextBtn"><i class="bi bi-chevron-right"></i></button>
  </div>
</section>

<footer>
  <div class="footer-content">
    <div class="footer-left">
      <h4 class="footer-logo">Bexprestige</h4>
    </div>

    <p class="footer-center">&copy; 2025 Bexprestige. All rights reserved.</p>

    <div class="footer-right">
      <div class="social-icons">
        <a href="#"><i class="bi bi-facebook"></i></a>
        <a href="#"><i class="bi bi-twitter"></i></a>
        <a href="#"><i class="bi bi-instagram"></i></a>
        <a href="#"><i class="bi bi-linkedin"></i></a>
      </div>
    </div>
  </div>
</footer>

<script>
const units = [
  {
    name: "MODEL-A MID UNIT",
    floorArea: "46.99 sqm",
    lotArea: "54.00 sqm",
    features: ["2 Bedrooms", "1 Toilet & Bath", "1 Powder Room", "Balconette", "Car Parking"],
    image: "assets/CasaMira-modelb.webp",
    groundImage: "assets/Model-A-Mid-GF.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Toilet & Bath<br>Stairs",
    secondImage: "assets/Model-A-Mid-SF.PNG",
    secondDetails: "Bedroom 1<br>Master’s Bedroom<br>Hallway<br>Stairs"
  },
  {
    name: "MODEL-A END UNIT",
    floorArea: "46.99 sqm",
    lotArea: "78.00 sqm",
    features: ["2 Bedrooms", "1 Toilet & Bath", "1 Powder Room", "Balconette", "Car Parking"],
    image: "assets/Model-A-End.webp",
    groundImage: "assets/Model-A-End-GF.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Powder Room<br>Stairs",
    secondImage: "assets/Model-A-End-SF.PNG",
    secondDetails: "Bedroom 1<br>Master’s Bedroom<br>Common T&B<br>Stairs"
  },
  {
    name: "MODEL-B MID UNIT",
    floorArea: "54.39 sqm",
    lotArea: "54.00 sqm",
    features: ["2 Bedrooms", "1 Toilet & Bath", "1 Powder Room", "Balconette", "Car Parking"],
    image: "assets/CasaMira-modelb.webp",
    groundImage: "assets/modelB-groundfloor.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Powder Room<br>Stairs",
    secondImage: "assets/modelB-secondfloor.PNG",
    secondDetails: "Hallway<br>Bedroom 1<br>Masters Bedroom<br>Common T&B<br>Stairs"
  },
  {
    name: "MODEL-B END UNIT",
    floorArea: "54.39 sqm",
    lotArea: "78.00 sqm",
    features: ["2 Bedrooms", "1 Toilet & Bath", "1 Powder Room", "Balconette", "Car Parking"],
    image: "assets/CasamiraHomes.png",
    groundImage: "assets/Model-B-End-GF.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Powder Room<br>Stairs",
    secondImage: "assets/Model-B-End-SF.PNG",
    secondDetails: "Hallway<br>Bedroom 1<br>Masters Bedroom<br>Common T&B<br>Stairs"
  },
  {
    name: "CIELO UNIT",
    floorArea: "48.35 sqm",
    lotArea: "100.00 sqm",
    features: ["2 Bedrooms", "2 Toilet & Bath", "Balconette", "Car Parking"],
    image: "assets/Cielo.webp",
    groundImage: "assets/Cielo-GF.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Powder Room<br>Stairs",
    secondImage: "assets/Cielo-SF.PNG",
    secondDetails: "Hallway<br>Bedroom 1<br>Masters Bedroom<br>Common T&B<br>Stairs"
  },
  {
    name: "CORA UNIT",
    floorArea: "52.73 sqm",
    lotArea: "120.00 sqm",
    features: ["3 Bedrooms", "1 Toilet & Bath", "Solar-Powered", "Battery & Storage Area", "Car Parking"],
    image: "assets/Cora.png",
    groundImage: "assets/Cora-GF.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Powder Room<br>Stairs"
  },
  {
    name: "CALLA UNIT",
    floorArea: "79.99 sqm",
    lotArea: "100.00 sqm",
    features: ["4 Bedrooms", "2 Toilet & Bath", "Balcony", "Car Parking", "Solar-Powered", "Battery & Storage Area"],
    image: "assets/Calla.avif",
    groundImage: "assets/Calla-GF.PNG",
    groundDetails: "Living/Dining/Kitchen<br>Powder Room<br>Stairs",
    secondImage: "assets/Calla-SF.PNG",
    secondDetails: "Hallway<br>Bedroom 1<br>Masters Bedroom<br>Common T&B<br>Stairs"
  }
];

// Start at the first unit (Model A Mid)
let currentIndex = 0;

const unitName = document.getElementById("unitName");
const floorArea = document.getElementById("floorArea");
const lotArea = document.getElementById("lotArea");
const featuresList = document.getElementById("featuresList");
const unitImage = document.getElementById("unitImage");
const groundImage = document.getElementById("groundImage");
const groundDetails = document.getElementById("groundDetails");
const secondImage = document.getElementById("secondImage");
const secondDetails = document.getElementById("secondDetails");

// Main update function
function updateUnit(index) {
  const unit = units[index];

  unitName.textContent = unit.name;
  floorArea.textContent = unit.floorArea;
  lotArea.textContent = unit.lotArea;
  unitImage.src = unit.image;
  groundImage.src = unit.groundImage;
  groundDetails.innerHTML = unit.groundDetails;

  // Update features
  featuresList.innerHTML = unit.features.map(f => `<li>${f}</li>`).join('');

  // Handle second floor visibility
  if (unit.secondImage && unit.secondDetails) {
    secondImage.style.display = "block";
    secondDetails.style.display = "block";
    secondImage.src = unit.secondImage;
    secondDetails.innerHTML = unit.secondDetails;
  } else {
    secondImage.style.display = "none";
    secondDetails.style.display = "none";
  }
}

// Buttons: previous and next
document.getElementById("prevUnit").addEventListener("click", () => {
  currentIndex = (currentIndex - 1 + units.length) % units.length;
  updateUnit(currentIndex);
});

document.getElementById("nextUnit").addEventListener("click", () => {
  currentIndex = (currentIndex + 1) % units.length;
  updateUnit(currentIndex);
});

// Initialize display
updateUnit(currentIndex);

  const gallery = document.getElementById('gallery');
  const images = document.querySelectorAll('.amenities-container img');
  const total = images.length;
  let index = 0;

  document.getElementById('nextBtn').addEventListener('click', () => {
    index = (index + 1) % total;
    gallery.style.transform = `translateX(-${index * 100}%)`;
  });

  document.getElementById('prevBtn').addEventListener('click', () => {
    index = (index - 1 + total) % total;
    gallery.style.transform = `translateX(-${index * 100}%)`;
  });

  const openFormBtn = document.getElementById('openFormBtn');
  const closeFormBtn = document.getElementById('closeFormBtn');
  const popupOverlay = document.getElementById('popupOverlay');

  openFormBtn.addEventListener('click', () => {
    popupOverlay.style.display = 'flex';
  });

  closeFormBtn.addEventListener('click', () => {
    popupOverlay.style.display = 'none';
  });

  // Close popup when clicking outside the form
  window.addEventListener('click', (e) => {
    if (e.target === popupOverlay) {
      popupOverlay.style.display = 'none';
    }
  });

</script>


</body>
</html>
